@page "/BlogPage"

@using Mega.Data
@using model
@inherits BlogPageBase
@inject BlogService BlogService

<h1>Blog</h1>


@if ( BlogData == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="card-deck">


        @foreach (var blog in BlogData)
        {
            

               <div class="card m-3" style="min-width : 18rem; max-width:30.5%;">
                   <div class="card-header">
                       <h4>@blog.BlogId @blog.Url</h4>
                       <div class="card-footer text-center">
                           <a href="#" class="btn btn-primary m-1"> Consulter</a>
                           <a href="#" class="btn btn-primary m-1"> Modifier</a>
                           <a href="#" class="btn btn-danger m-1"> Supprimer</a>
                       </div>
                   </div>
               </div>

            
        }
    </div>
}

@code {
    private List<Blog> BlogData;

    protected override void OnInitialized()
    {
        GetBlog();
    }

    public void GetBlog()
    {
        BlogData = BlogService.GetBlog();
    }
}
